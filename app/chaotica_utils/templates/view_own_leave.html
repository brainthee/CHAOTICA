{% extends "base.html" %}
{% load menu %}{% load static %}

{% block pageTitle %}Personal Leave{% endblock pageTitle %}
{% block head_title %}Personal Leave{% endblock head_title %}

{% block headerBlock_css %}mb-6{% endblock headerBlock_css %}

{% block breadcrumbItem %}
<li class="breadcrumb-item active" aria-current="page">Personal Leave</li>
{% endblock breadcrumbItem %}

{% block content %}

<div class="row mb-4 gx-6 gy-3 mt-2 align-items-center">
  <div class="col-auto">
    <h2 class="mb-0">Leave Requests</h2>
  </div>
  <div class="col-auto">
    <a class="btn btn-primary px-5" href="{% url 'request_leave' %}">
      <i class="fa-solid fa-plus me-2"></i>
      Request Leave
    </a>
  </div>
</div>

<div class="mx-n4 px-3 py-3 mx-lg-n6 px-lg-6 bg-white border-top border-bottom border-200 position-relative top-1">

  <div class="table-responsive scrollbar mx-n1 px-1">
    <table class="table table-sm fs--1 datatable mb-0">
      <thead>
        <tr>
          <th class="sort align-middle ps-3" scope="col" data-sort="client" style="width:10%;">
            Start
          </th>
          <th class="sort align-middle ps-3" scope="col" data-sort="start" style="width:10%;">
            End
          </th>
          <th class="sort align-middle ps-3" scope="col" data-sort="unit" style="width:10%;">
            Type
          </th>
          <th class="sort align-middle ps-3" scope="col" data-sort="deadline" style="width:15%;">
            Notes
          </th>
          <th class="sort align-middle ps-3" scope="col" data-sort="task" style="width:12%;">
            Status
          </th>
          <th class="sort align-middle text-end" scope="col" style="width:10%;">
          </th>
        </tr>
      </thead>
      <tbody>
      {% for leave in leave_list %}
      <tr>
          <td class="align-middle time white-space-nowrap ps-0 projectName py-4">
            <a class="fw-bold fs-0" href="{{ leave.get_absolute_url }}">
              {{ leave.start_date }}
            </a>
          </td>
  
          <td class="align-middle white-space-nowrap unit ps-3 py-4">
              {{ leave.end_date }}
          </td>
  
          <td class="align-middle white-space-nowrap client ps-3 py-4">
              {{ leave.get_type_of_leave_display }}
          </td>
  
          <td class="align-middle white-space-nowrap start ps-3 py-4">
            <p class="mb-0 fs--1 text-900">
              {{ leave.notes }}
            </p>
          </td>
  
          <td class="align-middle white-space-nowrap end ps-3 py-4">
            {% if leave.cancelled %}
              Cancelled
            {% elif leave.declined %}
              Declined
            {% elif leave.authorised %}
              Authorised
            {% else %}
              Pending
              {% if leave.requested_late %}
                Late
              {% endif %}
            {% endif %}
          </td>
  
          <td class="align-middle text-end white-space-nowrap pe-0 action">
            <!-- <div class="font-sans-serif btn-reveal-trigger position-static">
              <button class="btn btn-sm dropdown-toggle dropdown-caret-none transition-none btn-reveal fs--2" type="button" data-bs-toggle="dropdown" data-boundary="window" aria-haspopup="true" aria-expanded="false" data-bs-reference="parent">
                <span class="fas fa-ellipsis-h fs--2"></span>
              </button>
              <div class="dropdown-menu dropdown-menu-end py-2">
                <a class="dropdown-item" href="#!">View</a>
                <a class="dropdown-item" href="#!">Export</a>
                <div class="dropdown-divider"></div>
                <a class="dropdown-item text-danger" href="#!">Remove</a>
              </div>
            </div> -->
          </td>
        </tr>
      {% endfor %}        
      </tbody>
    </table>
  </div>
  
</div>

{% endblock content %}  